<!DOCTYPE html>
<html lang="fr">
    <meta charset="UTF-8">
    <meta name="viewport" content="width= , initial-scale=1.0">
    <link rel="stylesheet" href="result.css">
    <title>Document</title>
</head>
<body>


    <header>
        <a href="accueil.html">
        <img src="img/logo Yuumi.png" alt="logo Yuumi" class="logo">
        </a>
    </header>


    

    <main>
                <div id="mod">
        <p id="title">Vos ingrédients</p>
        <div id="searchbar-container">
            <input type="text" id="searchbar" placeholder="Rechercher un ingrédients...">
        </div>



        <div id="mod1">

            <div id="ingredients">
                <!-- Ici tu change pour mettre des boutons tout ca -->
                <div class="ingredient" id="plus"><a href="ingrédient.html"><img src="img/icone plus.png" alt="ajouter un ingredient" id="plus"></a></div>
                <div class="ingredient" id="pain"><img class="imgingredient" src="img/pain.png" alt="image de pain"> <img src="img/icone moins.png" class="btnmoins" alt="bouton moins"></div>
                <div class="ingredient" id="tomate"><img class="imgingredient" src="img/tomate.png" alt="image de tomate"><img src="img/icone moins.png" class="btnmoins" alt="bouton moins"></div>
                <div class="ingredient" id="carotte"><img class="imgingredient" src="img/karotte.png" alt="image de carotte"><img src="img/icone moins.png" class="btnmoins" alt="bouton moins"></div>
                <div class="ingredient" id="patate"><img class="imgingredient" src="img/patate.png" alt="image de patate"><img src="img/icone moins.png" class="btnmoins" alt="bouton moins"></div>
                <div class="ingredient" id="lait"><img class="imgingredient" src="img/lait.png" alt="image de lait"><img src="img/icone moins.png" class="btnmoins" alt="bouton moins"></div>
                <div class="ingredient" id="fromage"><img class="imgingredient" src="img/fromage.png" alt="image de fromage"><img src="img/icone moins.png" class="btnmoins" alt="bouton moins"></div>
                <div class="ingredient"><img class="imgingredient" src="img/zUOIPHGz.png" alt="image de"></div>
            </div>
        </div>
        </div>



        <div id="recipes">
            <p id="titlerecipe">Recettes proposées :</p>
            <div>
                <div class="recipe-card">
                    <a href="recipe.html">
                    <img src="img/39917640.png" alt="Recette 1" class="recipe-image">
                    </a>
                    <div class="recipe-info">
                        <p>Recette 1</p>
                        <p>description bla bla bla miam tartiflette</p>
                                                <div id="bouton">
                            <div class="bouton" id="difficulte">
                                <p>Difficile</p>
                            </div>
                            <div class="bouton" id="temps">
                                <p>1h15</p>
                            </div>
                    </div>
                </div>
                
            </div>
        </div>
        </main>
    </main>

    <script>
        const btnmoins = document.querySelectorAll('.btnmoins');
        let panier = [];

        btnmoins.forEach(btn => {
            btn.addEventListener('click', () => {
                const ingredient = btn.closest('.ingredient');
                ingredient.remove();
                const index = panier.indexOf(ingredient.id);
                if (index !== -1) {
                    panier.splice(index, 1);
                }
                console.log('Ingrédients dans le panier :', panier);
                localStorage.setItem("panier", JSON.stringify(panier));
            });
        });

        const ingredient = document.querySelectorAll('.ingredient');
        ingredient.forEach (ing => {
            if(ing.id === "plus") return;
            else {
            panier.push(ing.id);
            console.log(panier);
            localStorage.setItem("panier", JSON.stringify(panier));
            }
        });

        localStorage.setItem("panier", JSON.stringify(panier));
    </script>
</body>
</html>